# X3DH Specifications

## Introduction

Original specifications from the Signal team can be found here: https://signal.org/docs/specifications/x3dh/

These natural language specifications are stored in PDF format in `pdf.pdf` and in markdown format in `full-text.txt` and `selected-text.txt`.

A Rust reference implementation (initially generated by an AI model from the original specfications, and fixed by Alexandre Rademaker so that it compiles) is provided in `pre-written.txt`.

## Block mappings

Blocks in the natural language text and in the formal Rust code are defined to be continuous segments which are separated by a newline, some white space (spaces, tabs and newlines) and another newline.

We look for matchings between the blocks, so that specification engineers can easily find text blocks which are related to a given code block, or code blocks which are related to a given text block.

The file `annotations-from-code.json` provides the top two text matches (by looking up a vector database of semantic embeddings of blocks) for each code block. Similarly, the file `annotation-from-text.json` gives the top two code matches for each text block.


